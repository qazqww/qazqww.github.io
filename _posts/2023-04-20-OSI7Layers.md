---
layout: post
title: "OSI 7계층"
categories: cs
tags: [network]
---

## *
예전부터 공부할 기회는 많았지만, 네트워크에 대한 전반적인 지식이 부족했기 때문에 의미없이 외웠던.. 항상 돌아서면 잊어버렸던 OSI 7계층이다.\
이제는 네트워크에 대한 기본 지식을 갖추었기 때문에 다시 공부해서 이번엔 제대로 익혀보고자 정리해보았다.

## 배경

1980년대 컴퓨터 통신망의 확산이 일어났다.\
때문에 다른 제조업자의 시스템이라도 상호 통신 가능한 지침의 필요성이 생겼고,\
신뢰성 있고 원활한 통신을 수행하기 위해 통신 규약(프로토콜)을 만들었다.\
이는 1984년 ISO(국제 표준화 기구)에서 발표했다.

## 개요

네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층간 상호 작동하는 방식을 정해 놓은 것이다.\
각 계층은 독립되어있으며, 인접한 계층 간에만 의존한다.\
모든 통신 시스템이 7계층을 다 가지고 있는 것은 아니지만<sup>[1](#footnote_1)</sup>, 두 컴퓨터가 서로 네트워크를 형성하여 데이터를 주고받기 위해서는 7계층이 다 구현되어야 한다.

> <a name="footnote_1">[1]</a> 하위 1계층만 구현한 케이블, 3계층만 구현한 라우터 등

## 특징

**데이터 캡슐화**\
하위 계층은 상위 계층으로부터 온 정보를 데이터로 취급하는데,\
이 데이터에 자신 계층의 제어정보를 헤더화시켜 붙이는 과정이다.

**PDU (Protocol Data Unit)**\
프로토콜 데이터 단위, OSI 모델 정보 처리 단위\
캡슐화 과정에서 만들어지며, 아래 계층으로 내려갈수록 PDU에 다양한 프로토콜의 헤더와 푸터가 더해진다.\
데이터를 받은 컴퓨터는 PDU로부터 프로토콜 헤더와 푸터를 분석하며 올라가, 마지막 응용 계층에 도달하면 원본 데이터만 남게 된다.

## 기능 (요약)

**1. 물리 계층**\
데이터가 전송되는 물리적인 매체이다. 데이터의 전기적 신호 변환을 담당한다.

**2. 데이터 링크 계층**\
물리적인 네트워크를 통해 데이터를 전송하는 수단을 제공한다. 오류 검출 및 수정을 수행하며 동시 전송을 관리한다.

**3. 네트워크 계층**\
다양한 경로를 통해 목적지로 데이터를 전송하기 위한 라우팅을 수행한다. IP 주소같은 논리적 주소 체계를 사용한다.

**4. 전송 계층**\
데이터의 전송을 제어하고, 데이터의 분할 및 재조립, 오류 검출 및 복구, 흐름 제어 등의 기능을 수행한다.

**5. 세션 계층**\
데이터 교환의 시작과 종료를 관리한다.

**6. 표현 계층**\
데이터를 응용 프로그램이 이해할 수 있는 형식으로 변화하고, 암호화와 복호화 등 데이터 변환 기능을 수행한다.

**7. 응용 계층**\
최종 사용자가 사용하는 응용 프로그램에 해당하며, 응용 프로토콜을 구현하여 데이터 전송을 담당한다.
<br><br>

## 기능 (상세)

### 응용 계층

사용자가 네트워크 자원에 접근하는 방법을 제공한다. 사실상 사용자가 볼 수 있는 유일한 계층이며, 모든 네트워크 활동의 기반이 되는 인터페이스(즉, 응용 프로그램)를 제공한다.

ex. 가상 터미널인 텔넷, 구글 크롬 등의 브라우저, 이메일, 데이터베이스 관리 등

### 표현 계층

응용 계층으로부터 주고받는 데이터를 읽을 수 있는 형식으로 변환한다.\
전달해야 할 데이터의 인코딩과 디코딩이 이루어지며, 데이터를 안전하게 사용하기 위한 암호화 및 복호화 작업도 이루어진다.

ex. 유니코드(UTF-8)로 인코딩된 문서를 ASCII 문서로 변환할 때

### 세션 계층

두 컴퓨터 간의 대화나 세션을 관리하며, 포트 연결이라고도 한다.\
모든 통신 장치 간의 연결을 설정, 관리, 종료하거나 연결이 전이중(양방향)인지 반이중(단방향)인지 여부를 확인하기도 한다.\
체크 포인팅, 유휴, 재시작 과정 등을 수행하며, 호스트의 연결을 정상적으로 유지하는 데에 책임이 있다.\
TCP/IP 세션을 만들고 없애거나, 통신하는 사용자들을 동기화하고, 오류 복구 명령들을 일괄적으로 다루는 등 통신 세션을 확립, 유지, 중단하는 작업을 수행한다.

### 전송 계층

하위 계층에 신뢰할 수 있는 데이터 전송 서비스를 제공한다.\
이를 통해 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 부담을 덜어준다.\
연결형 프로토콜과 비 연결형 프로토콜을 모두 사용한다.

ex. 특정 방화벽, 프록시 서버

### 네트워크 계층

실제 네트워크 간의 데이터 라우팅<sup>[2](#footnote_2)</sup>을 담당한다. 2홉<sup>[3](#footnote_3)</sup> 이상의 통신(멀티 홉 통신)을 담당하기도 한다.\
네트워크 호스트의 논리 주소(IP) 지정을 확인하며, 데이터 스트림을 더 작은 단위로 분할하고 경우에 따라 오류를 감지해 처리한다.\
여러 개의 노드를 거칠 때마다 경로를 찾아주며, 다양한 길이의 데이터를 네트워크를 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질을 제공하기 위한 기능적, 절차적 수단을 제공한다.

ex. 라우터

> <a name="footnote_2">[2] 라우팅</a>: 어떤 네트워크 안에서 통신 데이터를 최대한 빠르게 보낼 최적의 경로를 선택하는 과정
<a name="footnote_3">[3] 홉</a>: 컴퓨터 네트워크에서 노드에서 다음 노드로 가는 경로

### 데이터링크 계층

물리적인 네트워크를 통해 데이터를 전송하는 수단을 제공한다. 1홉 통신(한 라우터에서 그 다음 라우터까지의 경로)을 담당하기도 한다.\
주 목적은 물리적인 장치를 식별하는 데에 사용할 수 있는 주소 지정 체계를 제공하는 것이다.
포인트 투 포인트 간의 신뢰성있는 전송을 보장하기 위한 계층으로, CRC<sup>[4](#footnote_4)</sup> 기반의 오류 제어와 흐름 제어가 필요하다.\
네트워크 위의 개체들 간 데이터를 전달하고, 물리 계층에서 발생할 수 있는 오류를 찾아내고 수정하는 데에 필요한 기능적, 절차적 수단을 제공한다.

ex. 브리치, 스위치, 이더넷

> <a name="footnote_4">[4] CRC</a>: 비트단위로 작동하며, 전송할 데이터의 CRC값을 계산하여 데이터와 함께 전송한다. 수신 측에서 데이터로 CRC값을 계산하여 수신된 CRC값과 비교하고, 다르다면 데이터 전송 중 오류가 발생한 것으로 간주한다.

### 물리 계층

네트워크 데이터가 전송되는 물리적인 매체이다.\
데이터는 0과 1의 비트열로, ON/OFF의 전기적 신호 상태로 이루어져 있다.\
연결을 설정 및 종료하고 통신 자원을 공유하는 수단을 제공하며, 디지털<->아날로그의 신호를 변환하는 역할을 한다.\
전압, 허브, 네트워크 어댑터, 중계기, 케이블 사양을 비롯해 사용된 모든 하드웨어의 물리적 및 전기적 특성을 정의한다.